{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/color2k/src/guard.ts","webpack:///./node_modules/color2k/src/ColorError.ts","webpack:///./node_modules/color2k/src/parseToRgba.ts","webpack:///./node_modules/color2k/src/parseToHsla.ts","webpack:///./node_modules/color2k/src/hsla.ts","webpack:///./node_modules/color2k/src/adjustHue.ts","webpack:///./node_modules/color2k/src/darken.ts","webpack:///./node_modules/color2k/src/desaturate.ts","webpack:///./node_modules/color2k/src/getLuminance.ts","webpack:///./node_modules/color2k/src/getContrast.ts","webpack:///./node_modules/color2k/src/rgba.ts","webpack:///./node_modules/color2k/src/mix.ts","webpack:///./node_modules/color2k/src/getScale.ts","webpack:///./node_modules/color2k/src/hasBadContrast.ts","webpack:///./node_modules/color2k/src/lighten.ts","webpack:///./node_modules/color2k/src/transparentize.ts","webpack:///./node_modules/color2k/src/opacify.ts","webpack:///./node_modules/color2k/src/readableColorIsBlack.ts","webpack:///./node_modules/color2k/src/readableColor.ts","webpack:///./node_modules/color2k/src/saturate.ts","webpack:///./node_modules/color2k/src/toHex.ts","webpack:///./node_modules/color2k/src/toRgba.ts","webpack:///./node_modules/color2k/src/toHsla.ts","webpack:///./node_modules/preact/src/constants.js","webpack:///./node_modules/preact/src/options.js","webpack:///./node_modules/preact/src/create-element.js","webpack:///./node_modules/preact/src/component.js","webpack:///./node_modules/preact/src/render.js","webpack:///./node_modules/preact/src/create-context.js","webpack:///./node_modules/preact/src/util.js","webpack:///./node_modules/preact/src/diff/children.js","webpack:///./node_modules/preact/src/diff/props.js","webpack:///./node_modules/preact/src/diff/index.js","webpack:///./node_modules/preact/src/clone-element.js","webpack:///./node_modules/preact/src/diff/catch-error.js","webpack:///./src/index.tsx"],"names":["guard","low","high","value","Math","min","max","ColorError","Error","constructor","color","parseToRgba","trim","toLowerCase","normalizedColor","namedColorRegex","test","nameToHex","reducedHexMatch","reducedHexRegex","exec","arr","Array","from","slice","map","x","parseInt","r","hexMatch","hexRegex","rgbaMatch","rgbaRegex","parseFloat","hslaMatch","hslaRegex","h","s","l","a","hslToRgb","Number","isNaN","hash","str","i","length","charCodeAt","colorToInt","replace","compressedColorMap","split","reduce","acc","next","key","substring","hex","toString","prefix","normalizedColorName","result","amount","join","RegExp","roundColor","round","hue","saturation","lightness","huePrime","chroma","abs","secondComponent","red","green","blue","lightnessModification","finalRed","finalGreen","finalBlue","parseToHsla","alpha","index","delta","hsla","toFixed","adjustHue","degrees","darken","desaturate","getLuminance","f","channel","pow","g","b","getContrast","color1","color2","luminance1","luminance2","rgba","mix","weight","normalize","n","r1","g1","b1","a1","r2","g2","b2","a2","alphaDelta","normalizedWeight","combinedWeight","weight2","weight1","getScale","colors","lastIndex","lowIndex","floor","highIndex","ceil","unit","guidelines","decorative","readable","aa","aaa","hasBadContrast","standard","background","lighten","transparentize","opacify","readableColorIsBlack","readableColor","saturate","toHex","toRgba","toHsla","options","isValidElement","rerenderQueue","defer","prevDebounce","IS_HYDRATE","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","ref","normalizedProps","arguments","push","defaultProps","undefined","createVNode","original","vnode","createRef","current","Fragment","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","process","debounceRendering","queue","sort","some","component","commitQueue","oldVNode","newDom","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","firstChildDom","refs","oldChildren","oldChildrenLength","isArray","placeChild","unmount","applyRef","toChildArray","out","nextDom","sibDom","outer","appendChild","nextSibling","insertBefore","diffProps","dom","newProps","oldProps","hydrate","setProperty","setStyle","style","name","oldValue","useCapture","nameLower","_listeners","addEventListener","eventProxy","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","e","event","reorderChildren","newVNode","tmp","isNew","oldState","snapshot","clearProcessingException","provider","componentContext","newType","contextType","prototype","render","doRender","sub","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","root","cb","call","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","checked","parentVNode","skipRemove","componentWillUnmount","this","replaceNode","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","error","hasCaught","getDerivedStateFromError","setState","componentDidCatch","update","callback","forceUpdate","Promise","then","bind","resolve","setTimeout"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n","/**\n * A simple guard function:\n *\n * ```js\n * Math.min(Math.max(low, value), high)\n * ```\n */\nfunction guard(low: number, high: number, value: number): number {\n  return Math.min(Math.max(low, value), high);\n}\n\nexport default guard;\n","class ColorError extends Error {\n  constructor(color: string) {\n    super(`Failed to parse color: \"${color}\"`);\n  }\n}\n\nexport default ColorError;\n","import guard from './guard';\nimport ColorError from './ColorError';\n\n/**\n * Parses a color into red, gree, blue, alpha parts\n *\n * @param color the input color. Can be a RGB, RBGA, HSL, HSLA, or named color\n */\nfunction parseToRgba(color: string): [number, number, number, number] {\n  if (typeof color !== 'string') throw new ColorError(color);\n  if (color.trim().toLowerCase() === 'transparent') return [0, 0, 0, 0];\n\n  let normalizedColor = color.trim();\n  normalizedColor = namedColorRegex.test(color) ? nameToHex(color) : color;\n\n  const reducedHexMatch = reducedHexRegex.exec(normalizedColor);\n  if (reducedHexMatch) {\n    const arr = Array.from(reducedHexMatch).slice(1);\n    return [\n      ...arr.slice(0, 3).map((x) => parseInt(r(x, 2), 16)),\n      parseInt(r(arr[3] || 'f', 2), 16) / 255,\n    ] as [number, number, number, number];\n  }\n\n  const hexMatch = hexRegex.exec(normalizedColor);\n  if (hexMatch) {\n    const arr = Array.from(hexMatch).slice(1);\n    return [\n      ...arr.slice(0, 3).map((x) => parseInt(x, 16)),\n      parseInt(arr[3] || 'ff', 16) / 255,\n    ] as [number, number, number, number];\n  }\n\n  const rgbaMatch = rgbaRegex.exec(normalizedColor);\n  if (rgbaMatch) {\n    const arr = Array.from(rgbaMatch).slice(1);\n    return [\n      ...arr.slice(0, 3).map((x) => parseInt(x, 10)),\n      parseFloat(arr[3] || '1'),\n    ] as [number, number, number, number];\n  }\n\n  const hslaMatch = hslaRegex.exec(normalizedColor);\n  if (hslaMatch) {\n    const [h, s, l, a] = Array.from(hslaMatch).slice(1).map(parseFloat);\n    if (guard(0, 100, s) !== s) throw new ColorError(color);\n    if (guard(0, 100, l) !== l) throw new ColorError(color);\n    return [...hslToRgb(h, s, l), Number.isNaN(a) ? 1 : a] as [\n      number,\n      number,\n      number,\n      number\n    ];\n  }\n\n  throw new ColorError(color);\n}\n\nfunction hash(str: string) {\n  let hash = 5381;\n  let i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n  return (hash >>> 0) % 2341;\n}\n\nconst colorToInt = (x: string) => parseInt(x.replace(/_/g, ''), 36);\n\nconst compressedColorMap =\n  '1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm'\n    .split(' ')\n    .reduce((acc, next) => {\n      const key = colorToInt(next.substring(0, 3));\n      const hex = colorToInt(next.substring(3)).toString(16);\n\n      // NOTE: padStart could be used here but it breaks Node 6 compat\n      // https://github.com/ricokahler/color2k/issues/351\n      let prefix = '';\n      for (let i = 0; i < 6 - hex.length; i++) {\n        prefix += '0';\n      }\n\n      acc[key] = `${prefix}${hex}`;\n      return acc;\n    }, {} as { [key: string]: string });\n\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n */\nfunction nameToHex(color: string): string {\n  const normalizedColorName = color.toLowerCase().trim();\n  const result = compressedColorMap[hash(normalizedColorName)];\n  if (!result) throw new ColorError(color);\n  return `#${result}`;\n}\n\nconst r = (str: string, amount: number) =>\n  Array.from(Array(amount))\n    .map(() => str)\n    .join('');\n\nconst reducedHexRegex = new RegExp(`^#${r('([a-f0-9])', 3)}([a-f0-9])?$`, 'i');\nconst hexRegex = new RegExp(`^#${r('([a-f0-9]{2})', 3)}([a-f0-9]{2})?$`, 'i');\nconst rgbaRegex = new RegExp(\n  `^rgba?\\\\(\\\\s*(\\\\d+)\\\\s*${r(\n    ',\\\\s*(\\\\d+)\\\\s*',\n    2\n  )}(?:,\\\\s*([\\\\d.]+))?\\\\s*\\\\)$`,\n  'i'\n);\nconst hslaRegex =\n  /^hsla?\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)%\\s*,\\s*([\\d.]+)%(?:\\s*,\\s*([\\d.]+))?\\s*\\)$/i;\nconst namedColorRegex = /^[a-z]+$/i;\n\nconst roundColor = (color: number): number => {\n  return Math.round(color * 255);\n};\n\nconst hslToRgb = (\n  hue: number,\n  saturation: number,\n  lightness: number\n): [number, number, number] => {\n  let l = lightness / 100;\n  if (saturation === 0) {\n    // achromatic\n    return [l, l, l].map(roundColor) as [number, number, number];\n  }\n\n  // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n  const huePrime = (((hue % 360) + 360) % 360) / 60;\n  const chroma = (1 - Math.abs(2 * l - 1)) * (saturation / 100);\n  const secondComponent = chroma * (1 - Math.abs((huePrime % 2) - 1));\n\n  let red = 0;\n  let green = 0;\n  let blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  const lightnessModification = l - chroma / 2;\n  const finalRed = red + lightnessModification;\n  const finalGreen = green + lightnessModification;\n  const finalBlue = blue + lightnessModification;\n\n  return [finalRed, finalGreen, finalBlue].map(roundColor) as [\n    number,\n    number,\n    number\n  ];\n};\n\nexport default parseToRgba;\n","// taken from:\n// https://github.com/styled-components/polished/blob/a23a6a2bb26802b3d922d9c3b67bac3f3a54a310/src/internalHelpers/_rgbToHsl.js\nimport parseToRgba from './parseToRgba';\n\n/**\n * Parses a color in hue, saturation, lightness, and the alpha channel.\n *\n * Hue is a number between 0 and 360, saturation, lightness, and alpha are\n * decimal percentages between 0 and 1\n */\nfunction parseToHsla(color: string): [number, number, number, number] {\n  const [red, green, blue, alpha] = parseToRgba(color).map((value, index) =>\n    // 3rd index is alpha channel which is already normalized\n    index === 3 ? value : value / 255\n  );\n\n  const max = Math.max(red, green, blue);\n  const min = Math.min(red, green, blue);\n  const lightness = (max + min) / 2;\n\n  // achromatic\n  if (max === min) return [0, 0, lightness, alpha];\n\n  const delta = max - min;\n  const saturation =\n    lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n  const hue =\n    60 *\n    (red === max\n      ? (green - blue) / delta + (green < blue ? 6 : 0)\n      : green === max\n      ? (blue - red) / delta + 2\n      : (red - green) / delta + 4);\n\n  return [hue, saturation, lightness, alpha];\n}\n\nexport default parseToHsla;\n","import guard from './guard';\n\n/**\n * Takes in hsla parts and constructs an hsla string\n *\n * @param hue The color circle (from 0 to 360) - 0 (or 360) is red, 120 is green, 240 is blue\n * @param saturation Percentage of saturation, given as a decimal between 0 and 1\n * @param lightness Percentage of lightness, given as a decimal between 0 and 1\n * @param alpha Percentage of opacity, given as a decimal between 0 and 1\n */\nfunction hsla(\n  hue: number,\n  saturation: number,\n  lightness: number,\n  alpha: number\n): string {\n  return `hsla(${(hue % 360).toFixed()}, ${guard(\n    0,\n    100,\n    saturation * 100\n  ).toFixed()}%, ${guard(0, 100, lightness * 100).toFixed()}%, ${parseFloat(\n    guard(0, 1, alpha).toFixed(3)\n  )})`;\n}\n\nexport default hsla;\n","import parseToHsla from './parseToHsla';\nimport hsla from './hsla';\n\n/**\n * Adjusts the current hue of the color by the given degrees. Wraps around when\n * over 360.\n *\n * @param color input color\n * @param degrees degrees to adjust the input color, accepts degree integers\n * (0 - 360) and wraps around on overflow\n */\nfunction adjustHue(color: string, degrees: number): string {\n  const [h, s, l, a] = parseToHsla(color);\n  return hsla(h + degrees, s, l, a);\n}\n\nexport default adjustHue;\n","import parseToHsla from './parseToHsla';\nimport hsla from './hsla';\n\n/**\n * Darkens using lightness. This is equivalent to subtracting the lightness\n * from the L in HSL.\n *\n * @param amount The amount to darken, given as a decimal between 0 and 1\n */\nfunction darken(color: string, amount: number): string {\n  const [hue, saturation, lightness, alpha] = parseToHsla(color);\n  return hsla(hue, saturation, lightness - amount, alpha);\n}\n\nexport default darken;\n","import parseToHsla from './parseToHsla';\nimport hsla from './hsla';\n\n/**\n * Desaturates the input color by the given amount via subtracting from the `s`\n * in `hsla`.\n *\n * @param amount The amount to desaturate, given as a decimal between 0 and 1\n */\nfunction desaturate(color: string, amount: number): string {\n  const [h, s, l, a] = parseToHsla(color);\n  return hsla(h, s - amount, l, a);\n}\n\nexport default desaturate;\n","import parseToRgba from './parseToRgba';\n// taken from:\n// https://github.com/styled-components/polished/blob/0764c982551b487469043acb56281b0358b3107b/src/color/getLuminance.js\n\n/**\n * Returns a number (float) representing the luminance of a color.\n */\nfunction getLuminance(color: string): number {\n  if (color === 'transparent') return 0;\n\n  function f(x: number) {\n    const channel = x / 255;\n    return channel <= 0.03928\n      ? channel / 12.92\n      : Math.pow(((channel + 0.055) / 1.055), 2.4);\n  }\n\n  const [r, g, b] = parseToRgba(color);\n  return 0.2126 * f(r) + 0.7152 * f(g) + 0.0722 * f(b);\n}\n\nexport default getLuminance;\n","// taken from:\n// https://github.com/styled-components/polished/blob/0764c982551b487469043acb56281b0358b3107b/src/color/getContrast.js\nimport getLuminance from './getLuminance';\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n */\nfunction getContrast(color1: string, color2: string): number {\n  const luminance1 = getLuminance(color1);\n  const luminance2 = getLuminance(color2);\n\n  return luminance1 > luminance2\n    ? (luminance1 + 0.05) / (luminance2 + 0.05)\n    : (luminance2 + 0.05) / (luminance1 + 0.05);\n}\n\nexport default getContrast;\n","import guard from './guard';\n\n/**\n * Takes in rgba parts and returns an rgba string\n *\n * @param red The amount of red in the red channel, given in a number between 0 and 255 inclusive\n * @param green The amount of green in the red channel, given in a number between 0 and 255 inclusive\n * @param blue The amount of blue in the red channel, given in a number between 0 and 255 inclusive\n * @param alpha Percentage of opacity, given as a decimal between 0 and 1\n */\nfunction rgba(red: number, green: number, blue: number, alpha: number): string {\n  return `rgba(${guard(0, 255, red).toFixed()}, ${guard(\n    0,\n    255,\n    green\n  ).toFixed()}, ${guard(0, 255, blue).toFixed()}, ${parseFloat(\n    guard(0, 1, alpha).toFixed(3)\n  )})`;\n}\n\nexport default rgba;\n","import parseToRgba from './parseToRgba';\nimport rgba from './rgba';\n\n/**\n * Mixes two colors together. Taken from sass's implementation.\n */\nfunction mix(color1: string, color2: string, weight: number): string {\n  const normalize = (n: number, index: number) =>\n    // 3rd index is alpha channel which is already normalized\n    index === 3 ? n : n / 255;\n\n  const [r1, g1, b1, a1] = parseToRgba(color1).map(normalize);\n  const [r2, g2, b2, a2] = parseToRgba(color2).map(normalize);\n\n  // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n  const alphaDelta = a2 - a1;\n  const normalizedWeight = weight * 2 - 1;\n  const combinedWeight =\n    normalizedWeight * alphaDelta === -1\n      ? normalizedWeight\n      : normalizedWeight + alphaDelta / (1 + normalizedWeight * alphaDelta);\n  const weight2 = (combinedWeight + 1) / 2;\n  const weight1 = 1 - weight2;\n\n  const r = (r1 * weight1 + r2 * weight2) * 255;\n  const g = (g1 * weight1 + g2 * weight2) * 255;\n  const b = (b1 * weight1 + b2 * weight2) * 255;\n  const a = a2 * weight + a1 * (1 - weight);\n\n  return rgba(r, g, b, a);\n}\n\nexport default mix;\n","import mix from './mix';\nimport guard from './guard';\n\n/**\n * Given a series colors, this function will return a `scale(x)` function that\n * accepts a percentage as a decimal between 0 and 1 and returns the color at\n * that percentage in the scale.\n *\n * ```js\n * const scale = getScale('red', 'yellow', 'green');\n * console.log(scale(0)); // rgba(255, 0, 0, 1)\n * console.log(scale(0.5)); // rgba(255, 255, 0, 1)\n * console.log(scale(1)); // rgba(0, 128, 0, 1)\n * ```\n *\n * If you'd like to limit the domain and range like chroma-js, we recommend\n * wrapping scale again.\n *\n * ```js\n * const _scale = getScale('red', 'yellow', 'green');\n * const scale = x => _scale(x / 100);\n *\n * console.log(scale(0)); // rgba(255, 0, 0, 1)\n * console.log(scale(50)); // rgba(255, 255, 0, 1)\n * console.log(scale(100)); // rgba(0, 128, 0, 1)\n * ```\n */\nfunction getScale(...colors: string[]): (n: number) => string {\n  return (n) => {\n    const lastIndex = colors.length - 1;\n    const lowIndex = guard(0, lastIndex, Math.floor(n * lastIndex));\n    const highIndex = guard(0, lastIndex, Math.ceil(n * lastIndex));\n\n    const color1 = colors[lowIndex];\n    const color2 = colors[highIndex];\n\n    const unit = 1 / lastIndex;\n    const weight = (n - unit * lowIndex) / unit;\n\n    return mix(color1, color2, weight);\n  };\n}\n\nexport default getScale;\n","import getContrast from './getContrast';\n\nconst guidelines = {\n  decorative: 1.5,\n  readable: 3,\n  aa: 4.5,\n  aaa: 7,\n};\n\n/**\n * Returns whether or not a color has bad contrast against a background\n * according to a given standard.\n */\nfunction hasBadContrast(\n  color: string,\n  standard: 'decorative' | 'readable' | 'aa' | 'aaa' = 'aa',\n  background: string = '#fff'\n): boolean {\n  return getContrast(color, background) < guidelines[standard];\n}\n\nexport default hasBadContrast;\n","import darken from './darken';\n/**\n * Lightens a color by a given amount. This is equivalent to\n * `darken(color, -amount)`\n *\n * @param amount The amount to darken, given as a decimal between 0 and 1\n */\nfunction lighten(color: string, amount: number): string {\n  return darken(color, -amount);\n}\n\nexport default lighten;\n","import parseToRgba from './parseToRgba';\nimport rgba from './rgba';\n\n/**\n * Takes in a color and makes it more transparent by convert to `rgba` and\n * decreasing the amount in the alpha channel.\n *\n * @param amount The amount to increase the transparency by, given as a decimal between 0 and 1\n */\nfunction transparentize(color: string, amount: number): string {\n  const [r, g, b, a] = parseToRgba(color);\n  return rgba(r, g, b, a - amount);\n}\n\nexport default transparentize;\n","import transparentize from './transparentize';\n\n/**\n * Takes a color and un-transparentizes it. Equivalent to\n * `transparentize(color, -amount)`\n *\n * @param amount The amount to increase the opacity by, given as a decimal between 0 and 1\n */\nfunction opacify(color: string, amount: number): string {\n  return transparentize(color, -amount);\n}\n\nexport default opacify;\n","import getLuminance from './getLuminance';\n\n/**\n * An alternative function to `readableColor`. Returns whether or not the \n * readable color (i.e. the color to be place on top the input color) should be\n * black.\n */\nfunction readableColorIsBlack(color: string): boolean {\n  return getLuminance(color) > 0.179;\n}\n\nexport default readableColorIsBlack;\n","import readableColorIsBlack from './readableColorIsBlack';\n\n/**\n * Returns black or white for best contrast depending on the luminosity of the\n * given color.\n */\nfunction readableColor(color: string): string {\n  return readableColorIsBlack(color) ? '#000' : '#fff';\n}\n\nexport default readableColor;\n","import desaturate from './desaturate';\n\n/**\n * Saturates a color by converting it to `hsl` and increasing the saturation\n * amount. Equivalent to `desaturate(color, -amount)`\n * \n * @param color Input color\n * @param amount The amount to darken, given as a decimal between 0 and 1\n */\nfunction saturate(color: string, amount: number): string {\n  return desaturate(color, -amount);\n}\n\nexport default saturate;\n","import parseToRgba from './parseToRgba';\nimport guard from './guard';\n\n/**\n * Takes in any color and returns it as a hex code.\n */\nfunction toHex(color: string): string {\n  const [r, g, b, a] = parseToRgba(color);\n\n  let hex = (x: number) => {\n    const h = guard(0, 255, x).toString(16);\n    // NOTE: padStart could be used here but it breaks Node 6 compat\n    // https://github.com/ricokahler/color2k/issues/351\n    return h.length === 1 ? `0${h}` : h;\n  };\n\n  return `#${hex(r)}${hex(g)}${hex(b)}${a < 1 ? hex(Math.round(a * 255)) : ''}`;\n}\n\nexport default toHex;\n","import parseToRgba from './parseToRgba';\nimport rgba from './rgba';\n\n/**\n * Takes in any color and returns it as an rgba string.\n */\nfunction toRgba(color: string): string {\n  return rgba(...parseToRgba(color));\n}\n\nexport default toRgba;\n","import parseToHsla from './parseToHsla';\nimport hsla from './hsla';\n\n/**\n * Takes in any color and returns it as an hsla string.\n */\nfunction toHsla(color: string): string {\n  return hsla(...parseToHsla(color));\n}\n\nexport default toHsla;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original\n\t};\n\n\tif (original == null) vnode._original = vnode;\n\tif (options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = oldVNode;\n\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.childNodes.length\n\t\t\t? EMPTY_ARR.slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\tProvider(props, subs, ctx) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tsubs = [];\n\t\t\t\tctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../index').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (typeof childVNode == 'string' || typeof childVNode == 'number') {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._dom != null || childVNode._component != null) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tnewDom = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\toldDom = placeChild(\n\t\t\t\tparentDom,\n\t\t\t\tchildVNode,\n\t\t\t\toldVNode,\n\t\t\t\toldChildren,\n\t\t\t\texcessDomChildren,\n\t\t\t\tnewDom,\n\t\t\t\toldDom\n\t\t\t);\n\n\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t// there are probably some internal data structures that aren't\n\t\t\t// updated properly.\n\t\t\t//\n\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t// value check in `diff()` won't be skipped.\n\t\t\tif (!isHydrating && newParentVNode.type == 'option') {\n\t\t\t\tparentDom.value = '';\n\t\t\t} else if (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type != 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nexport function placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\texcessDomChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\texcessDomChildren == oldVNode ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t// The values only have the same type when `null`.\n\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\t// if (!(key in style)) {  // -3b\n\t// if (key < '.') {  // -1b\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture, nameLower;\n\n\tif (isSvg && name == 'className') name = 'class';\n\n\t// if (isSvg) {\n\t// \tif (name === 'className') name = 'class';\n\t// } else if (name === 'class') name += 'Name';\n\n\tif (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tnameLower = name.toLowerCase();\n\t\tif (nameLower in dom) name = nameLower;\n\t\tname = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\tname !== 'download' &&\n\t\tname !== 'href' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (typeof value != 'function' && name !== 'dangerouslySetInnerHTML') {\n\t\tif (name !== (name = name.replace(/xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren, placeChild } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\nfunction reorderChildren(newVNode, oldDom, parentDom) {\n\tfor (let tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\tconst vnode = newVNode._children[tmp];\n\t\tif (vnode) {\n\t\t\tvnode._parent = newVNode;\n\n\t\t\tif (vnode._dom) {\n\t\t\t\tif (typeof vnode.type == 'function' && vnode._children.length > 1) {\n\t\t\t\t\treorderChildren(vnode, oldDom, parentDom);\n\t\t\t\t}\n\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tnewVNode._children,\n\t\t\t\t\tnull,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\n\t\t\t\tif (typeof newVNode.type == 'function') {\n\t\t\t\t\tnewVNode._nextDom = oldDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\treorderChildren(newVNode, oldDom, parentDom);\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data !== newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\ti !== dom.value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { assign } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { h, render, Component } from \"preact\"\nimport { hsla } from \"color2k\"\n\ndeclare let require:any\n\nconst parentNode = document.getElementById(\"content\")\nconst replaceNode = document.getElementById(\"initial-loading\")\n\n// State:\n// algo: string\n// xmin, xmax, ymin, ymax: number\n\nconst signedLog = (x:number) => {\n  const l = Math.log(Math.abs(x)+1)\n  if (x>=0) return l\n  return -l\n}\n\nconst positiveFloat = (x:number) => {\n  const p = x + 9007199254740992\n  if (p>=0) return p\n  return 0\n}\n\nconst algos = {\n  add: (a:number,b:number) => a + b,\n  mult: (a:number,b:number) => a * b,\n  multSigned: (a:number,b:number) => positiveFloat(a) * positiveFloat(b),\n  logAddSigned: (a:number,b:number) => signedLog(a) + signedLog(b),\n  logMult: (a:number,b:number) => Math.log(a) * Math.log(b),\n  logMultSigned: (a:number,b:number) => signedLog(a) * signedLog(b)\n}\n\nconst algosExplain:any = {\n  add: \"x + y\",\n  mult: \"x * y\",\n  multSigned: \"f(x) * f(y) [where f(a) = a+2^52, any result<0 = 0]\",\n  logAddSigned: \"f(x) + f(y) [where f(a) = log(|x|+1)*sign(x)]\",\n  logMult: \"log(x) * log(y)\",\n  logMultSigned: \"f(x) * f(y) [where f(a) = log(|x|+1)*sign(x)]\",\n}\n\nconst side = 11\nconst sideMax = (side-1)\nconst iidxMax = (side*side-1)\n\ntype Sortee = {idx:number, value:number, sidx?:number}\n\nclass Content extends Component<any, any> {\n  constructor(props:{}) {\n    super(props)\n    this.state = {algo:\"add\", ymin:0, ymax:10, xmin:10, xmax:100}\n  }\n\n  render() {\n    const {algo, ymin, ymax, xmin, xmax} = this.state\n\n    const inOrder: Array<Sortee> = new Array()\n    const sorted: Array<Sortee> = new Array()\n    for (let y = 0; y < side; y++) {\n      for (let x = 0; x < side; x++) {\n        const sx = xmin + (x/sideMax)*(xmax-xmin)\n        const sy = ymin + (y/sideMax)*(ymax-ymin)\n        const t:Sortee = {idx:inOrder.length, value:(algos as any)[algo](sx,sy)}\n        let {idx, value} = t; console.log({x, y, sx, sy, idx, value})\n        inOrder.push(t)\n        sorted.push(t)\n      }\n    }\n\n    // Sort array\n    sorted.sort((a:Sortee,b:Sortee) => a.value - b.value)\n\n    // Reverse engineer which index each member of sorted array has\n    for (const [index, t] of sorted.entries()) {\n      t.sidx=index\n    }\n\n    // Display sorted indexes in original inOrder order\n    const tableGrid:preact.JSX.Element[] = new Array()\n    for (let y = 0; y < side; y++) {\n      const tableRow:preact.JSX.Element[] = new Array()\n      for (let x = 0; x < side; x++) {\n        const idx = y*side + x   // array idx\n        const t = inOrder[idx]\n        const sidx = t.sidx      // sorted idx\n        const value = Math.round(t.value*100)/100\n        const color = isFinite(value) ? hsla((sidx / iidxMax)*240, 1, 0.75, 1) : \"white\"\n\n        tableRow.push(<td style={{padding:\"10px\", background:color}}><b>{sidx}</b><br /><small>({algo==\"multSigned\"?\"...\":value})</small></td>)\n      }\n      tableGrid.push(<tr>{tableRow}</tr>)\n    }\n\n    return (\n      <div>\n        <p>Don't worry about this. <a href=\"https://github.com/mcclure/scalesort-test\">Source code</a></p>\n        <p>\n          Algorithm: <select onChange={_ => this.setState({algo:(event.target as any).value})}>\n            <option value=\"add\">Add</option>\n            <option value=\"mult\">Multiply</option>\n            <option value=\"multSigned\">Multiply (sign-aware)</option>\n            <option value=\"logAddSigned\">Add log (sign-aware)</option>\n            <option value=\"logMult\">Multiply log</option>\n            <option value=\"logMultSigned\">Multiply log (sign-aware)</option>\n          </select>\n          {\" \"}\n          ({algosExplain[algo]})\n        </p>\n        <table>\n          <tr>\n            <td> {/* Y axis controls */}\n              Y-min <input type=\"text\" value={ymin} onChange={_ => this.setState({ymin:Number((event.target as any).value)})} /><br /><br />\n              Y-max <input type=\"text\" value={ymax} onChange={_ => this.setState({ymax:Number((event.target as any).value)})} />\n            </td>\n            <td> {/* table */}\n              <table style=\"border-spacing:5px\">{tableGrid}</table>\n            </td>\n          </tr>\n          <tr>\n            <td>&nbsp;</td>\n            <td> {/* X axis controls */}\n              X-min <input type=\"text\" value={xmin} onChange={_ => this.setState({xmin:Number((event.target as any).value)})} />\n              {\" \"}\n              X-max <input type=\"text\" value={xmax} onChange={_ => this.setState({xmax:Number((event.target as any).value)})}  />\n            </td>\n          </tr>\n        </table>\n        <p>The goal is for the gradient red-to-blue to be more or less diagonal ↘ regardless of input ranges.</p>\n      </div>\n    )\n  }\n}\n\nrender(\n  <Content />,\n  parentNode, replaceNode\n);\n"],"sourceRoot":""}